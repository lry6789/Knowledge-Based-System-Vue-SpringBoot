2023-01-30 01:38:13.848 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-01-30 01:38:13.870 INFO  com.example.wiki.config.WikiApplication           :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_352 on Noland with PID 17264 (C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes started by amper in C:\Users\amper\project\Wiki\Knowledge-Based-System)
2023-01-30 01:38:13.873 INFO  com.example.wiki.config.WikiApplication           :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-01-30 01:38:13.980 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-01-30 01:38:13.981 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-01-30 01:38:15.388 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-01-30 01:38:15.393 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-01-30 01:38:15.427 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2023-01-30 01:38:16.572 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2023-01-30 01:38:16.587 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2023-01-30 01:38:16.588 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-01-30 01:38:16.589 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-01-30 01:38:17.064 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-01-30 01:38:17.067 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3085 ms
2023-01-30 01:38:18.408 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-01-30 01:38:18.759 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-01-30 01:38:18.808 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-01-30 01:38:18.831 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2023-01-30 01:38:18.862 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2023-01-30 01:38:18.876 INFO  com.example.wiki.config.WikiApplication           :61   [32m                  [0;39m Started WikiApplication in 5.888 seconds (JVM running for 7.819)
2023-01-30 01:38:18.879 INFO  com.example.wiki.config.WikiApplication           :24   [32m                  [0;39m Start successfully!
2023-01-30 01:38:18.879 INFO  com.example.wiki.config.WikiApplication           :25   [32m                  [0;39m Address: 	http://127.0.0.1:8080
2023-01-30 01:38:35.002 INFO  com.example.wiki.job.DocJob                       :32   [32m275167796273483776[0;39m 更新电子书下的文档数据开始
2023-01-30 01:38:35.026 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m275167796273483776[0;39m HikariPool-1 - Starting...
2023-01-30 01:38:35.396 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m275167796273483776[0;39m HikariPool-1 - Start completed.
2023-01-30 01:38:35.403 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275167796273483776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:38:35.419 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275167796273483776[0;39m ==> Parameters: 
2023-01-30 01:38:35.428 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275167796273483776[0;39m <==    Updates: 1
2023-01-30 01:38:35.429 INFO  com.example.wiki.job.DocJob                       :35   [32m275167796273483776[0;39m 更新电子书下的文档数据结束，耗时：426毫秒
2023-01-30 01:39:00.010 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275167901164638208[0;39m 生成今日电子书快照开始
2023-01-30 01:39:00.011 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275167901164638208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:39:00.013 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275167901164638208[0;39m ==> Parameters: 
2023-01-30 01:39:00.063 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275167901164638208[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:39:05.007 INFO  com.example.wiki.job.DocJob                       :32   [32m275167922123575296[0;39m 更新电子书下的文档数据开始
2023-01-30 01:39:05.008 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275167922123575296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:39:05.009 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275167922123575296[0;39m ==> Parameters: 
2023-01-30 01:39:05.010 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275167922123575296[0;39m <==    Updates: 1
2023-01-30 01:39:05.011 INFO  com.example.wiki.job.DocJob                       :35   [32m275167922123575296[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:39:35.001 INFO  com.example.wiki.job.DocJob                       :32   [32m275168047927529472[0;39m 更新电子书下的文档数据开始
2023-01-30 01:39:35.002 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168047927529472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:39:35.002 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168047927529472[0;39m ==> Parameters: 
2023-01-30 01:39:35.004 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168047927529472[0;39m <==    Updates: 1
2023-01-30 01:39:35.004 INFO  com.example.wiki.job.DocJob                       :35   [32m275168047927529472[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-01-30 01:40:00.015 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275168152843849728[0;39m 生成今日电子书快照开始
2023-01-30 01:40:00.016 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275168152843849728[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:40:00.017 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275168152843849728[0;39m ==> Parameters: 
2023-01-30 01:40:00.020 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275168152843849728[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:40:05.007 INFO  com.example.wiki.job.DocJob                       :32   [32m275168173781815296[0;39m 更新电子书下的文档数据开始
2023-01-30 01:40:05.008 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168173781815296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:40:05.008 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168173781815296[0;39m ==> Parameters: 
2023-01-30 01:40:05.011 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168173781815296[0;39m <==    Updates: 1
2023-01-30 01:40:05.011 INFO  com.example.wiki.job.DocJob                       :35   [32m275168173781815296[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:40:35.010 INFO  com.example.wiki.job.DocJob                       :32   [32m275168299623518208[0;39m 更新电子书下的文档数据开始
2023-01-30 01:40:35.012 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168299623518208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:40:35.013 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168299623518208[0;39m ==> Parameters: 
2023-01-30 01:40:35.015 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168299623518208[0;39m <==    Updates: 1
2023-01-30 01:40:35.015 INFO  com.example.wiki.job.DocJob                       :35   [32m275168299623518208[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:41:00.012 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275168404489506816[0;39m 生成今日电子书快照开始
2023-01-30 01:41:00.013 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275168404489506816[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:41:00.014 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275168404489506816[0;39m ==> Parameters: 
2023-01-30 01:41:00.016 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275168404489506816[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:41:05.014 INFO  com.example.wiki.job.DocJob                       :32   [32m275168425469415424[0;39m 更新电子书下的文档数据开始
2023-01-30 01:41:05.015 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168425469415424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:41:05.016 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168425469415424[0;39m ==> Parameters: 
2023-01-30 01:41:05.017 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168425469415424[0;39m <==    Updates: 1
2023-01-30 01:41:05.017 INFO  com.example.wiki.job.DocJob                       :35   [32m275168425469415424[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-01-30 01:41:35.005 INFO  com.example.wiki.job.DocJob                       :32   [32m275168551260786688[0;39m 更新电子书下的文档数据开始
2023-01-30 01:41:35.006 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168551260786688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:41:35.007 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168551260786688[0;39m ==> Parameters: 
2023-01-30 01:41:35.008 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168551260786688[0;39m <==    Updates: 1
2023-01-30 01:41:35.009 INFO  com.example.wiki.job.DocJob                       :35   [32m275168551260786688[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-01-30 01:42:00.002 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275168656105803776[0;39m 生成今日电子书快照开始
2023-01-30 01:42:00.005 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275168656105803776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:42:00.007 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275168656105803776[0;39m ==> Parameters: 
2023-01-30 01:42:00.010 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275168656105803776[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:42:05.009 INFO  com.example.wiki.job.DocJob                       :32   [32m275168677106683904[0;39m 更新电子书下的文档数据开始
2023-01-30 01:42:05.011 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168677106683904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:42:05.012 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168677106683904[0;39m ==> Parameters: 
2023-01-30 01:42:05.014 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168677106683904[0;39m <==    Updates: 1
2023-01-30 01:42:05.015 INFO  com.example.wiki.job.DocJob                       :35   [32m275168677106683904[0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-01-30 01:42:35.008 INFO  com.example.wiki.job.DocJob                       :32   [32m275168802931609600[0;39m 更新电子书下的文档数据开始
2023-01-30 01:42:35.009 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168802931609600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:42:35.010 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168802931609600[0;39m ==> Parameters: 
2023-01-30 01:42:35.011 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168802931609600[0;39m <==    Updates: 1
2023-01-30 01:42:35.012 INFO  com.example.wiki.job.DocJob                       :35   [32m275168802931609600[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:43:00.006 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275168907780820992[0;39m 生成今日电子书快照开始
2023-01-30 01:43:00.007 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275168907780820992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:43:00.008 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275168907780820992[0;39m ==> Parameters: 
2023-01-30 01:43:00.010 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275168907780820992[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:43:05.014 INFO  com.example.wiki.job.DocJob                       :32   [32m275168928785895424[0;39m 更新电子书下的文档数据开始
2023-01-30 01:43:05.015 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168928785895424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:43:05.016 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168928785895424[0;39m ==> Parameters: 
2023-01-30 01:43:05.017 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275168928785895424[0;39m <==    Updates: 1
2023-01-30 01:43:05.018 INFO  com.example.wiki.job.DocJob                       :35   [32m275168928785895424[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:43:35.001 INFO  com.example.wiki.job.DocJob                       :32   [32m275169054560489472[0;39m 更新电子书下的文档数据开始
2023-01-30 01:43:35.003 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169054560489472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:43:35.003 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169054560489472[0;39m ==> Parameters: 
2023-01-30 01:43:35.005 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169054560489472[0;39m <==    Updates: 1
2023-01-30 01:43:35.006 INFO  com.example.wiki.job.DocJob                       :35   [32m275169054560489472[0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-01-30 01:44:00.013 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275169159468421120[0;39m 生成今日电子书快照开始
2023-01-30 01:44:00.016 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275169159468421120[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:44:00.018 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275169159468421120[0;39m ==> Parameters: 
2023-01-30 01:44:00.021 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275169159468421120[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:44:05.010 INFO  com.example.wiki.job.DocJob                       :32   [32m275169180427358208[0;39m 更新电子书下的文档数据开始
2023-01-30 01:44:05.011 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169180427358208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:44:05.012 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169180427358208[0;39m ==> Parameters: 
2023-01-30 01:44:05.013 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169180427358208[0;39m <==    Updates: 1
2023-01-30 01:44:05.014 INFO  com.example.wiki.job.DocJob                       :35   [32m275169180427358208[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:44:11.307 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-30 01:44:11.307 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-01-30 01:44:11.308 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-01-30 01:44:11.349 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275169207010856960[0;39m ------------- 开始 -------------
2023-01-30 01:44:11.350 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275169207010856960[0;39m 请求地址: http://127.0.0.1:8080/category/all GET
2023-01-30 01:44:11.350 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275169207010856960[0;39m 类名方法: com.example.wiki.controller.CategoryController.all
2023-01-30 01:44:11.350 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275169207010856960[0;39m 远程地址: 127.0.0.1
2023-01-30 01:44:11.396 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275169207010856960[0;39m 请求参数: []
2023-01-30 01:44:11.417 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275169207010856960[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-01-30 01:44:11.418 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275169207010856960[0;39m ==> Parameters: 
2023-01-30 01:44:11.432 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==    Columns: id, parent, name, sort
2023-01-30 01:44:11.432 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 100, 0, 前端开发, 100
2023-01-30 01:44:11.433 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 101, 100, Vue, 101
2023-01-30 01:44:11.434 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-01-30 01:44:11.434 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 200, 0, Java, 200
2023-01-30 01:44:11.435 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 201, 200, 基础应用, 201
2023-01-30 01:44:11.435 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 202, 200, 框架应用, 202
2023-01-30 01:44:11.435 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 300, 0, Python, 300
2023-01-30 01:44:11.436 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 301, 300, 基础应用, 301
2023-01-30 01:44:11.436 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-01-30 01:44:11.437 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 400, 0, 数据库, 400
2023-01-30 01:44:11.437 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 401, 400, MySQL, 401
2023-01-30 01:44:11.437 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 500, 0, 其它, 500
2023-01-30 01:44:11.438 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 501, 500, 服务器, 501
2023-01-30 01:44:11.438 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 502, 500, 开发工具, 502
2023-01-30 01:44:11.438 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275169207010856960[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-01-30 01:44:11.439 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275169207010856960[0;39m <==      Total: 15
2023-01-30 01:44:11.462 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275169207010856960[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-01-30 01:44:11.463 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275169207010856960[0;39m ------------- 结束 耗时：115 ms -------------
2023-01-30 01:44:35.015 INFO  com.example.wiki.job.DocJob                       :32   [32m275169306277449728[0;39m 更新电子书下的文档数据开始
2023-01-30 01:44:35.015 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169306277449728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:44:35.015 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169306277449728[0;39m ==> Parameters: 
2023-01-30 01:44:35.017 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169306277449728[0;39m <==    Updates: 1
2023-01-30 01:44:35.017 INFO  com.example.wiki.job.DocJob                       :35   [32m275169306277449728[0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-01-30 01:45:00.016 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275169411139244032[0;39m 生成今日电子书快照开始
2023-01-30 01:45:00.017 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275169411139244032[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:45:00.018 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275169411139244032[0;39m ==> Parameters: 
2023-01-30 01:45:00.019 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275169411139244032[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:45:05.004 INFO  com.example.wiki.job.DocJob                       :32   [32m275169432060432384[0;39m 更新电子书下的文档数据开始
2023-01-30 01:45:05.005 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169432060432384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:45:05.006 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169432060432384[0;39m ==> Parameters: 
2023-01-30 01:45:05.007 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169432060432384[0;39m <==    Updates: 1
2023-01-30 01:45:05.007 INFO  com.example.wiki.job.DocJob                       :35   [32m275169432060432384[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-01-30 01:45:35.009 INFO  com.example.wiki.job.DocJob                       :32   [32m275169557910523904[0;39m 更新电子书下的文档数据开始
2023-01-30 01:45:35.010 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169557910523904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:45:35.011 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169557910523904[0;39m ==> Parameters: 
2023-01-30 01:45:35.012 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169557910523904[0;39m <==    Updates: 1
2023-01-30 01:45:35.013 INFO  com.example.wiki.job.DocJob                       :35   [32m275169557910523904[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:46:00.006 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275169662755540992[0;39m 生成今日电子书快照开始
2023-01-30 01:46:00.008 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275169662755540992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:46:00.009 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275169662755540992[0;39m ==> Parameters: 
2023-01-30 01:46:00.011 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275169662755540992[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:46:05.005 INFO  com.example.wiki.job.DocJob                       :32   [32m275169683722866688[0;39m 更新电子书下的文档数据开始
2023-01-30 01:46:05.007 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169683722866688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:46:05.007 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169683722866688[0;39m ==> Parameters: 
2023-01-30 01:46:05.009 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169683722866688[0;39m <==    Updates: 1
2023-01-30 01:46:05.010 INFO  com.example.wiki.job.DocJob                       :35   [32m275169683722866688[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:46:33.639 INFO  com.example.wiki.interceptor.LoginInterceptor     :29   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-01-30 01:46:33.640 INFO  com.example.wiki.interceptor.LoginInterceptor     :40   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8080/doc/all
2023-01-30 01:46:33.640 INFO  com.example.wiki.interceptor.LoginInterceptor     :44   [32m                  [0;39m 登录校验开始，token：null
2023-01-30 01:46:33.641 INFO  com.example.wiki.interceptor.LoginInterceptor     :46   [32m                  [0;39m token为空，请求被拦截
2023-01-30 01:46:35.009 INFO  com.example.wiki.job.DocJob                       :32   [32m275169809568763904[0;39m 更新电子书下的文档数据开始
2023-01-30 01:46:35.011 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169809568763904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:46:35.012 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169809568763904[0;39m ==> Parameters: 
2023-01-30 01:46:35.014 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169809568763904[0;39m <==    Updates: 1
2023-01-30 01:46:35.014 INFO  com.example.wiki.job.DocJob                       :35   [32m275169809568763904[0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-01-30 01:46:39.312 INFO  com.example.wiki.interceptor.LoginInterceptor     :29   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-01-30 01:46:39.313 INFO  com.example.wiki.interceptor.LoginInterceptor     :40   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8080/doc/all
2023-01-30 01:46:39.313 INFO  com.example.wiki.interceptor.LoginInterceptor     :44   [32m                  [0;39m 登录校验开始，token：null
2023-01-30 01:46:39.314 INFO  com.example.wiki.interceptor.LoginInterceptor     :46   [32m                  [0;39m token为空，请求被拦截
2023-01-30 01:46:56.948 INFO  com.example.wiki.interceptor.LoginInterceptor     :29   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-01-30 01:46:56.948 INFO  com.example.wiki.interceptor.LoginInterceptor     :40   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8080/doc/all
2023-01-30 01:46:56.949 INFO  com.example.wiki.interceptor.LoginInterceptor     :44   [32m                  [0;39m 登录校验开始，token：null
2023-01-30 01:46:56.949 INFO  com.example.wiki.interceptor.LoginInterceptor     :46   [32m                  [0;39m token为空，请求被拦截
2023-01-30 01:47:00.004 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275169914405392384[0;39m 生成今日电子书快照开始
2023-01-30 01:47:00.005 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275169914405392384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:47:00.006 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275169914405392384[0;39m ==> Parameters: 
2023-01-30 01:47:00.009 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275169914405392384[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:47:03.034 INFO  com.example.wiki.interceptor.LoginInterceptor     :29   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-01-30 01:47:03.035 INFO  com.example.wiki.interceptor.LoginInterceptor     :40   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8080/doc/all
2023-01-30 01:47:03.035 INFO  com.example.wiki.interceptor.LoginInterceptor     :44   [32m                  [0;39m 登录校验开始，token：null
2023-01-30 01:47:03.035 INFO  com.example.wiki.interceptor.LoginInterceptor     :46   [32m                  [0;39m token为空，请求被拦截
2023-01-30 01:47:04.760 INFO  com.example.wiki.interceptor.LoginInterceptor     :29   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-01-30 01:47:04.761 INFO  com.example.wiki.interceptor.LoginInterceptor     :40   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8080/doc/all
2023-01-30 01:47:04.761 INFO  com.example.wiki.interceptor.LoginInterceptor     :44   [32m                  [0;39m 登录校验开始，token：null
2023-01-30 01:47:04.761 INFO  com.example.wiki.interceptor.LoginInterceptor     :46   [32m                  [0;39m token为空，请求被拦截
2023-01-30 01:47:05.011 INFO  com.example.wiki.job.DocJob                       :32   [32m275169935406272512[0;39m 更新电子书下的文档数据开始
2023-01-30 01:47:05.012 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169935406272512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:47:05.012 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169935406272512[0;39m ==> Parameters: 
2023-01-30 01:47:05.014 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275169935406272512[0;39m <==    Updates: 1
2023-01-30 01:47:05.014 INFO  com.example.wiki.job.DocJob                       :35   [32m275169935406272512[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-01-30 01:47:06.107 INFO  com.example.wiki.interceptor.LoginInterceptor     :29   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-01-30 01:47:06.108 INFO  com.example.wiki.interceptor.LoginInterceptor     :40   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8080/doc/all
2023-01-30 01:47:06.108 INFO  com.example.wiki.interceptor.LoginInterceptor     :44   [32m                  [0;39m 登录校验开始，token：null
2023-01-30 01:47:06.109 INFO  com.example.wiki.interceptor.LoginInterceptor     :46   [32m                  [0;39m token为空，请求被拦截
2023-01-30 01:47:35.016 INFO  com.example.wiki.job.DocJob                       :32   [32m275170061256364032[0;39m 更新电子书下的文档数据开始
2023-01-30 01:47:35.018 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170061256364032[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:47:35.019 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170061256364032[0;39m ==> Parameters: 
2023-01-30 01:47:35.020 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170061256364032[0;39m <==    Updates: 1
2023-01-30 01:47:35.021 INFO  com.example.wiki.job.DocJob                       :35   [32m275170061256364032[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:48:00.007 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275170166076215296[0;39m 生成今日电子书快照开始
2023-01-30 01:48:00.008 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275170166076215296[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:48:00.009 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275170166076215296[0;39m ==> Parameters: 
2023-01-30 01:48:00.011 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275170166076215296[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:48:05.014 INFO  com.example.wiki.job.DocJob                       :32   [32m275170187077095424[0;39m 更新电子书下的文档数据开始
2023-01-30 01:48:05.015 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170187077095424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:48:05.015 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170187077095424[0;39m ==> Parameters: 
2023-01-30 01:48:05.017 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170187077095424[0;39m <==    Updates: 1
2023-01-30 01:48:05.017 INFO  com.example.wiki.job.DocJob                       :35   [32m275170187077095424[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-01-30 01:48:35.005 INFO  com.example.wiki.job.DocJob                       :32   [32m275170312868466688[0;39m 更新电子书下的文档数据开始
2023-01-30 01:48:35.006 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170312868466688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:48:35.006 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170312868466688[0;39m ==> Parameters: 
2023-01-30 01:48:35.008 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170312868466688[0;39m <==    Updates: 1
2023-01-30 01:48:35.008 INFO  com.example.wiki.job.DocJob                       :35   [32m275170312868466688[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-01-30 01:48:36.209 INFO  com.example.wiki.interceptor.LoginInterceptor     :29   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-01-30 01:48:36.209 INFO  com.example.wiki.interceptor.LoginInterceptor     :40   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8080/doc/all
2023-01-30 01:48:36.209 INFO  com.example.wiki.interceptor.LoginInterceptor     :44   [32m                  [0;39m 登录校验开始，token：null
2023-01-30 01:48:36.211 INFO  com.example.wiki.interceptor.LoginInterceptor     :46   [32m                  [0;39m token为空，请求被拦截
2023-01-30 01:48:37.537 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170323488444416[0;39m ------------- 开始 -------------
2023-01-30 01:48:37.538 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170323488444416[0;39m 请求地址: http://127.0.0.1:8080/category/all GET
2023-01-30 01:48:37.538 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170323488444416[0;39m 类名方法: com.example.wiki.controller.CategoryController.all
2023-01-30 01:48:37.538 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170323488444416[0;39m 远程地址: 127.0.0.1
2023-01-30 01:48:37.539 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170323488444416[0;39m 请求参数: []
2023-01-30 01:48:37.540 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170323488444416[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-01-30 01:48:37.541 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170323488444416[0;39m ==> Parameters: 
2023-01-30 01:48:37.542 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==    Columns: id, parent, name, sort
2023-01-30 01:48:37.543 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 100, 0, 前端开发, 100
2023-01-30 01:48:37.545 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 101, 100, Vue, 101
2023-01-30 01:48:37.546 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-01-30 01:48:37.546 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 200, 0, Java, 200
2023-01-30 01:48:37.547 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 201, 200, 基础应用, 201
2023-01-30 01:48:37.547 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 202, 200, 框架应用, 202
2023-01-30 01:48:37.548 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 300, 0, Python, 300
2023-01-30 01:48:37.548 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 301, 300, 基础应用, 301
2023-01-30 01:48:37.549 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-01-30 01:48:37.549 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 400, 0, 数据库, 400
2023-01-30 01:48:37.549 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 401, 400, MySQL, 401
2023-01-30 01:48:37.550 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 500, 0, 其它, 500
2023-01-30 01:48:37.550 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 501, 500, 服务器, 501
2023-01-30 01:48:37.550 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 502, 500, 开发工具, 502
2023-01-30 01:48:37.551 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170323488444416[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-01-30 01:48:37.551 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170323488444416[0;39m <==      Total: 15
2023-01-30 01:48:37.553 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170323488444416[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-01-30 01:48:37.553 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170323488444416[0;39m ------------- 结束 耗时：16 ms -------------
2023-01-30 01:48:37.684 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170324105007104[0;39m ------------- 开始 -------------
2023-01-30 01:48:37.684 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170324105007104[0;39m 请求地址: http://127.0.0.1:8080/ebook/list GET
2023-01-30 01:48:37.685 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170324105007104[0;39m 类名方法: com.example.wiki.controller.EbookController.list
2023-01-30 01:48:37.685 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170324105007104[0;39m 远程地址: 127.0.0.1
2023-01-30 01:48:37.688 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170324105007104[0;39m 请求参数: [{"page":1,"size":10}]
2023-01-30 01:48:37.874 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170324105007104[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-01-30 01:48:37.875 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170324105007104[0;39m ==> Parameters: 
2023-01-30 01:48:37.879 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170324105007104[0;39m <==    Columns: count(0)
2023-01-30 01:48:37.880 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170324105007104[0;39m <==        Row: 5
2023-01-30 01:48:37.881 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170324105007104[0;39m <==      Total: 1
2023-01-30 01:48:37.883 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170324105007104[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-01-30 01:48:37.884 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170324105007104[0;39m ==> Parameters: 10(Integer)
2023-01-30 01:48:37.888 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170324105007104[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-01-30 01:48:37.888 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170324105007104[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 0, 0
2023-01-30 01:48:37.889 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170324105007104[0;39m <==        Row: 2, Vue 入门教程, null, null, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:48:37.890 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170324105007104[0;39m <==        Row: 3, Python 入门教程, null, null, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:48:37.891 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170324105007104[0;39m <==        Row: 4, Mysql 入门教程, null, null, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:48:37.891 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170324105007104[0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:48:37.892 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170324105007104[0;39m <==      Total: 5
2023-01-30 01:48:37.894 INFO  com.example.wiki.service.EbookService             :51   [32m275170324105007104[0;39m 总行数 5
2023-01-30 01:48:37.894 INFO  com.example.wiki.service.EbookService             :52   [32m275170324105007104[0;39m 总页数 1
2023-01-30 01:48:37.908 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170324105007104[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","id":2,"name":"Vue 入门教程"},{"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","id":3,"name":"Python 入门教程"},{"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","id":4,"name":"Mysql 入门教程"},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","id":5,"name":"Oracle 入门教程"}],"total":5},"success":true}
2023-01-30 01:48:37.908 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170324105007104[0;39m ------------- 结束 耗时：224 ms -------------
2023-01-30 01:48:48.623 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170369986498560[0;39m ------------- 开始 -------------
2023-01-30 01:48:48.624 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170369986498560[0;39m 请求地址: http://127.0.0.1:8080/category/all GET
2023-01-30 01:48:48.624 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170369986498560[0;39m 类名方法: com.example.wiki.controller.CategoryController.all
2023-01-30 01:48:48.624 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170369986498560[0;39m 远程地址: 127.0.0.1
2023-01-30 01:48:48.624 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170369986498560[0;39m 请求参数: []
2023-01-30 01:48:48.625 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170369986498560[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-01-30 01:48:48.626 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170369986498560[0;39m ==> Parameters: 
2023-01-30 01:48:48.627 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==    Columns: id, parent, name, sort
2023-01-30 01:48:48.627 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 100, 0, 前端开发, 100
2023-01-30 01:48:48.628 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 101, 100, Vue, 101
2023-01-30 01:48:48.628 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-01-30 01:48:48.628 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 200, 0, Java, 200
2023-01-30 01:48:48.628 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 201, 200, 基础应用, 201
2023-01-30 01:48:48.629 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 202, 200, 框架应用, 202
2023-01-30 01:48:48.629 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 300, 0, Python, 300
2023-01-30 01:48:48.631 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 301, 300, 基础应用, 301
2023-01-30 01:48:48.632 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-01-30 01:48:48.632 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 400, 0, 数据库, 400
2023-01-30 01:48:48.632 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 401, 400, MySQL, 401
2023-01-30 01:48:48.633 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 500, 0, 其它, 500
2023-01-30 01:48:48.633 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 501, 500, 服务器, 501
2023-01-30 01:48:48.633 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 502, 500, 开发工具, 502
2023-01-30 01:48:48.634 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170369986498560[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-01-30 01:48:48.634 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170369986498560[0;39m <==      Total: 15
2023-01-30 01:48:48.635 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170369986498560[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-01-30 01:48:48.635 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170369986498560[0;39m ------------- 结束 耗时：12 ms -------------
2023-01-30 01:48:48.770 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170370603061248[0;39m ------------- 开始 -------------
2023-01-30 01:48:48.770 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170370603061248[0;39m 请求地址: http://127.0.0.1:8080/ebook/list GET
2023-01-30 01:48:48.770 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170370603061248[0;39m 类名方法: com.example.wiki.controller.EbookController.list
2023-01-30 01:48:48.770 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170370603061248[0;39m 远程地址: 127.0.0.1
2023-01-30 01:48:48.771 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170370603061248[0;39m 请求参数: [{"page":1,"size":10}]
2023-01-30 01:48:48.774 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170370603061248[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-01-30 01:48:48.774 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170370603061248[0;39m ==> Parameters: 
2023-01-30 01:48:48.775 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170370603061248[0;39m <==    Columns: count(0)
2023-01-30 01:48:48.777 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170370603061248[0;39m <==        Row: 5
2023-01-30 01:48:48.777 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170370603061248[0;39m <==      Total: 1
2023-01-30 01:48:48.778 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170370603061248[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-01-30 01:48:48.778 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170370603061248[0;39m ==> Parameters: 10(Integer)
2023-01-30 01:48:48.779 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170370603061248[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-01-30 01:48:48.779 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170370603061248[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 0, 0
2023-01-30 01:48:48.780 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170370603061248[0;39m <==        Row: 2, Vue 入门教程, null, null, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:48:48.780 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170370603061248[0;39m <==        Row: 3, Python 入门教程, null, null, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:48:48.781 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170370603061248[0;39m <==        Row: 4, Mysql 入门教程, null, null, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:48:48.781 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170370603061248[0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:48:48.781 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170370603061248[0;39m <==      Total: 5
2023-01-30 01:48:48.782 INFO  com.example.wiki.service.EbookService             :51   [32m275170370603061248[0;39m 总行数 5
2023-01-30 01:48:48.782 INFO  com.example.wiki.service.EbookService             :52   [32m275170370603061248[0;39m 总页数 1
2023-01-30 01:48:48.782 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170370603061248[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","id":2,"name":"Vue 入门教程"},{"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","id":3,"name":"Python 入门教程"},{"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","id":4,"name":"Mysql 入门教程"},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","id":5,"name":"Oracle 入门教程"}],"total":5},"success":true}
2023-01-30 01:48:48.783 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170370603061248[0;39m ------------- 结束 耗时：13 ms -------------
2023-01-30 01:49:00.013 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275170417759621120[0;39m 生成今日电子书快照开始
2023-01-30 01:49:00.015 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275170417759621120[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:49:00.016 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275170417759621120[0;39m ==> Parameters: 
2023-01-30 01:49:00.019 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275170417759621120[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:49:05.004 INFO  com.example.wiki.job.DocJob                       :32   [32m275170438693392384[0;39m 更新电子书下的文档数据开始
2023-01-30 01:49:05.005 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170438693392384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:49:05.006 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170438693392384[0;39m ==> Parameters: 
2023-01-30 01:49:05.007 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170438693392384[0;39m <==    Updates: 1
2023-01-30 01:49:05.008 INFO  com.example.wiki.job.DocJob                       :35   [32m275170438693392384[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:49:21.996 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170509963005952[0;39m ------------- 开始 -------------
2023-01-30 01:49:21.997 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170509963005952[0;39m 请求地址: http://127.0.0.1:8080/category/all GET
2023-01-30 01:49:21.997 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170509963005952[0;39m 类名方法: com.example.wiki.controller.CategoryController.all
2023-01-30 01:49:21.997 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170509963005952[0;39m 远程地址: 127.0.0.1
2023-01-30 01:49:21.998 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170509963005952[0;39m 请求参数: []
2023-01-30 01:49:21.999 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170509963005952[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-01-30 01:49:21.999 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170509963005952[0;39m ==> Parameters: 
2023-01-30 01:49:22.000 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==    Columns: id, parent, name, sort
2023-01-30 01:49:22.001 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 100, 0, 前端开发, 100
2023-01-30 01:49:22.001 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 101, 100, Vue, 101
2023-01-30 01:49:22.001 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-01-30 01:49:22.002 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 200, 0, Java, 200
2023-01-30 01:49:22.002 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 201, 200, 基础应用, 201
2023-01-30 01:49:22.002 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 202, 200, 框架应用, 202
2023-01-30 01:49:22.003 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 300, 0, Python, 300
2023-01-30 01:49:22.004 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 301, 300, 基础应用, 301
2023-01-30 01:49:22.004 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-01-30 01:49:22.005 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 400, 0, 数据库, 400
2023-01-30 01:49:22.005 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 401, 400, MySQL, 401
2023-01-30 01:49:22.005 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 500, 0, 其它, 500
2023-01-30 01:49:22.006 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 501, 500, 服务器, 501
2023-01-30 01:49:22.006 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 502, 500, 开发工具, 502
2023-01-30 01:49:22.006 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170509963005952[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-01-30 01:49:22.007 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170509963005952[0;39m <==      Total: 15
2023-01-30 01:49:22.008 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170509963005952[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-01-30 01:49:22.008 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170509963005952[0;39m ------------- 结束 耗时：12 ms -------------
2023-01-30 01:49:22.096 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170510382436352[0;39m ------------- 开始 -------------
2023-01-30 01:49:22.098 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170510382436352[0;39m 请求地址: http://127.0.0.1:8080/ebook/list GET
2023-01-30 01:49:22.098 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170510382436352[0;39m 类名方法: com.example.wiki.controller.EbookController.list
2023-01-30 01:49:22.098 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170510382436352[0;39m 远程地址: 127.0.0.1
2023-01-30 01:49:22.098 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170510382436352[0;39m 请求参数: [{"page":1,"size":10}]
2023-01-30 01:49:22.100 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170510382436352[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-01-30 01:49:22.101 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170510382436352[0;39m ==> Parameters: 
2023-01-30 01:49:22.103 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170510382436352[0;39m <==    Columns: count(0)
2023-01-30 01:49:22.103 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170510382436352[0;39m <==        Row: 5
2023-01-30 01:49:22.104 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170510382436352[0;39m <==      Total: 1
2023-01-30 01:49:22.105 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170510382436352[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-01-30 01:49:22.105 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170510382436352[0;39m ==> Parameters: 10(Integer)
2023-01-30 01:49:22.107 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170510382436352[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-01-30 01:49:22.108 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170510382436352[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 0, 0
2023-01-30 01:49:22.109 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170510382436352[0;39m <==        Row: 2, Vue 入门教程, null, null, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:49:22.109 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170510382436352[0;39m <==        Row: 3, Python 入门教程, null, null, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:49:22.110 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170510382436352[0;39m <==        Row: 4, Mysql 入门教程, null, null, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:49:22.110 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170510382436352[0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:49:22.110 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170510382436352[0;39m <==      Total: 5
2023-01-30 01:49:22.110 INFO  com.example.wiki.service.EbookService             :51   [32m275170510382436352[0;39m 总行数 5
2023-01-30 01:49:22.110 INFO  com.example.wiki.service.EbookService             :52   [32m275170510382436352[0;39m 总页数 1
2023-01-30 01:49:22.111 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170510382436352[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","id":2,"name":"Vue 入门教程"},{"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","id":3,"name":"Python 入门教程"},{"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","id":4,"name":"Mysql 入门教程"},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","id":5,"name":"Oracle 入门教程"}],"total":5},"success":true}
2023-01-30 01:49:22.111 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170510382436352[0;39m ------------- 结束 耗时：15 ms -------------
2023-01-30 01:49:35.002 INFO  com.example.wiki.job.DocJob                       :32   [32m275170564514123776[0;39m 更新电子书下的文档数据开始
2023-01-30 01:49:35.003 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170564514123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:49:35.003 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170564514123776[0;39m ==> Parameters: 
2023-01-30 01:49:35.005 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170564514123776[0;39m <==    Updates: 1
2023-01-30 01:49:35.005 INFO  com.example.wiki.job.DocJob                       :35   [32m275170564514123776[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-01-30 01:50:00.010 INFO  com.example.wiki.job.EbookSnapshotJob             :32   [32m275170669405278208[0;39m 生成今日电子书快照开始
2023-01-30 01:50:00.011 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275170669405278208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-01-30 01:50:00.012 DEBUG c.e.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m275170669405278208[0;39m ==> Parameters: 
2023-01-30 01:50:00.014 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m275170669405278208[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [C:\Users\amper\project\Wiki\Knowledge-Based-System\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count             from ebook_snapshot             where `date` = date_sub(curdate(), interval 1 day)) t2         on t1.ebook_id = t2.ebook_id             set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),                 t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy105.genSnapshot(Unknown Source)
	at com.example.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:16)
	at com.example.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy130.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2023-01-30 01:50:05.000 INFO  com.example.wiki.job.DocJob                       :32   [32m275170690334855168[0;39m 更新电子书下的文档数据开始
2023-01-30 01:50:05.001 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170690334855168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:50:05.002 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170690334855168[0;39m ==> Parameters: 
2023-01-30 01:50:05.003 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170690334855168[0;39m <==    Updates: 1
2023-01-30 01:50:05.004 INFO  com.example.wiki.job.DocJob                       :35   [32m275170690334855168[0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-01-30 01:50:21.189 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170758236442624[0;39m ------------- 开始 -------------
2023-01-30 01:50:21.189 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170758236442624[0;39m 请求地址: http://127.0.0.1:8080/ebook/list GET
2023-01-30 01:50:21.189 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170758236442624[0;39m 类名方法: com.example.wiki.controller.EbookController.list
2023-01-30 01:50:21.189 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170758236442624[0;39m 远程地址: 127.0.0.1
2023-01-30 01:50:21.190 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170758236442624[0;39m 请求参数: [{"page":1,"size":10}]
2023-01-30 01:50:21.191 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170758236442624[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-01-30 01:50:21.191 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170758236442624[0;39m ==> Parameters: 
2023-01-30 01:50:21.193 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170758236442624[0;39m <==    Columns: count(0)
2023-01-30 01:50:21.193 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170758236442624[0;39m <==        Row: 5
2023-01-30 01:50:21.194 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170758236442624[0;39m <==      Total: 1
2023-01-30 01:50:21.194 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170758236442624[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-01-30 01:50:21.194 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170758236442624[0;39m ==> Parameters: 10(Integer)
2023-01-30 01:50:21.196 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170758236442624[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-01-30 01:50:21.196 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170758236442624[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 0, 0
2023-01-30 01:50:21.198 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170758236442624[0;39m <==        Row: 2, Vue 入门教程, null, null, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:21.198 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170758236442624[0;39m <==        Row: 3, Python 入门教程, null, null, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:21.199 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170758236442624[0;39m <==        Row: 4, Mysql 入门教程, null, null, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:21.199 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170758236442624[0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:21.199 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170758236442624[0;39m <==      Total: 5
2023-01-30 01:50:21.200 INFO  com.example.wiki.service.EbookService             :51   [32m275170758236442624[0;39m 总行数 5
2023-01-30 01:50:21.200 INFO  com.example.wiki.service.EbookService             :52   [32m275170758236442624[0;39m 总页数 1
2023-01-30 01:50:21.201 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170758236442624[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","id":2,"name":"Vue 入门教程"},{"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","id":3,"name":"Python 入门教程"},{"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","id":4,"name":"Mysql 入门教程"},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","id":5,"name":"Oracle 入门教程"}],"total":5},"success":true}
2023-01-30 01:50:21.202 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170758236442624[0;39m ------------- 结束 耗时：13 ms -------------
2023-01-30 01:50:30.252 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170796249419776[0;39m ------------- 开始 -------------
2023-01-30 01:50:30.252 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170796249419776[0;39m 请求地址: http://127.0.0.1:8080/category/all GET
2023-01-30 01:50:30.253 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170796249419776[0;39m 类名方法: com.example.wiki.controller.CategoryController.all
2023-01-30 01:50:30.253 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170796249419776[0;39m 远程地址: 127.0.0.1
2023-01-30 01:50:30.253 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170796249419776[0;39m 请求参数: []
2023-01-30 01:50:30.254 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170796249419776[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-01-30 01:50:30.254 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170796249419776[0;39m ==> Parameters: 
2023-01-30 01:50:30.255 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==    Columns: id, parent, name, sort
2023-01-30 01:50:30.256 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 100, 0, 前端开发, 100
2023-01-30 01:50:30.256 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 101, 100, Vue, 101
2023-01-30 01:50:30.256 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-01-30 01:50:30.256 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 200, 0, Java, 200
2023-01-30 01:50:30.257 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 201, 200, 基础应用, 201
2023-01-30 01:50:30.257 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 202, 200, 框架应用, 202
2023-01-30 01:50:30.257 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 300, 0, Python, 300
2023-01-30 01:50:30.257 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 301, 300, 基础应用, 301
2023-01-30 01:50:30.258 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-01-30 01:50:30.258 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 400, 0, 数据库, 400
2023-01-30 01:50:30.258 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 401, 400, MySQL, 401
2023-01-30 01:50:30.258 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 500, 0, 其它, 500
2023-01-30 01:50:30.259 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 501, 500, 服务器, 501
2023-01-30 01:50:30.259 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 502, 500, 开发工具, 502
2023-01-30 01:50:30.259 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170796249419776[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-01-30 01:50:30.259 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170796249419776[0;39m <==      Total: 15
2023-01-30 01:50:30.260 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170796249419776[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-01-30 01:50:30.260 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170796249419776[0;39m ------------- 结束 耗时：8 ms -------------
2023-01-30 01:50:30.303 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170796463329280[0;39m ------------- 开始 -------------
2023-01-30 01:50:30.304 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170796463329280[0;39m 请求地址: http://127.0.0.1:8080/ebook/list GET
2023-01-30 01:50:30.304 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170796463329280[0;39m 类名方法: com.example.wiki.controller.EbookController.list
2023-01-30 01:50:30.304 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170796463329280[0;39m 远程地址: 127.0.0.1
2023-01-30 01:50:30.304 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170796463329280[0;39m 请求参数: [{"page":1,"size":10}]
2023-01-30 01:50:30.305 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170796463329280[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-01-30 01:50:30.306 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170796463329280[0;39m ==> Parameters: 
2023-01-30 01:50:30.310 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170796463329280[0;39m <==    Columns: count(0)
2023-01-30 01:50:30.310 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170796463329280[0;39m <==        Row: 5
2023-01-30 01:50:30.310 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170796463329280[0;39m <==      Total: 1
2023-01-30 01:50:30.311 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170796463329280[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-01-30 01:50:30.311 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170796463329280[0;39m ==> Parameters: 10(Integer)
2023-01-30 01:50:30.313 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170796463329280[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-01-30 01:50:30.313 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170796463329280[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 0, 0
2023-01-30 01:50:30.314 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170796463329280[0;39m <==        Row: 2, Vue 入门教程, null, null, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:30.314 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170796463329280[0;39m <==        Row: 3, Python 入门教程, null, null, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:30.314 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170796463329280[0;39m <==        Row: 4, Mysql 入门教程, null, null, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:30.314 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170796463329280[0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:30.315 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170796463329280[0;39m <==      Total: 5
2023-01-30 01:50:30.315 INFO  com.example.wiki.service.EbookService             :51   [32m275170796463329280[0;39m 总行数 5
2023-01-30 01:50:30.315 INFO  com.example.wiki.service.EbookService             :52   [32m275170796463329280[0;39m 总页数 1
2023-01-30 01:50:30.316 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170796463329280[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","id":2,"name":"Vue 入门教程"},{"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","id":3,"name":"Python 入门教程"},{"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","id":4,"name":"Mysql 入门教程"},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","id":5,"name":"Oracle 入门教程"}],"total":5},"success":true}
2023-01-30 01:50:30.316 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170796463329280[0;39m ------------- 结束 耗时：13 ms -------------
2023-01-30 01:50:31.391 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170801026732032[0;39m ------------- 开始 -------------
2023-01-30 01:50:31.391 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170801026732032[0;39m 请求地址: http://127.0.0.1:8080/ebook/list GET
2023-01-30 01:50:31.391 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170801026732032[0;39m 类名方法: com.example.wiki.controller.EbookController.list
2023-01-30 01:50:31.391 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170801026732032[0;39m 远程地址: 127.0.0.1
2023-01-30 01:50:31.391 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170801026732032[0;39m 请求参数: [{"page":1,"size":10}]
2023-01-30 01:50:31.393 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170801026732032[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-01-30 01:50:31.393 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170801026732032[0;39m ==> Parameters: 
2023-01-30 01:50:31.395 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170801026732032[0;39m <==    Columns: count(0)
2023-01-30 01:50:31.395 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170801026732032[0;39m <==        Row: 5
2023-01-30 01:50:31.396 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170801026732032[0;39m <==      Total: 1
2023-01-30 01:50:31.397 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170801026732032[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-01-30 01:50:31.397 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170801026732032[0;39m ==> Parameters: 10(Integer)
2023-01-30 01:50:31.398 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170801026732032[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-01-30 01:50:31.399 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170801026732032[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 0, 0
2023-01-30 01:50:31.399 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170801026732032[0;39m <==        Row: 2, Vue 入门教程, null, null, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:31.399 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170801026732032[0;39m <==        Row: 3, Python 入门教程, null, null, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:31.399 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170801026732032[0;39m <==        Row: 4, Mysql 入门教程, null, null, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:31.400 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170801026732032[0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:31.400 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170801026732032[0;39m <==      Total: 5
2023-01-30 01:50:31.401 INFO  com.example.wiki.service.EbookService             :51   [32m275170801026732032[0;39m 总行数 5
2023-01-30 01:50:31.401 INFO  com.example.wiki.service.EbookService             :52   [32m275170801026732032[0;39m 总页数 1
2023-01-30 01:50:31.401 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170801026732032[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","id":2,"name":"Vue 入门教程"},{"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","id":3,"name":"Python 入门教程"},{"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","id":4,"name":"Mysql 入门教程"},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","id":5,"name":"Oracle 入门教程"}],"total":5},"success":true}
2023-01-30 01:50:31.401 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170801026732032[0;39m ------------- 结束 耗时：10 ms -------------
2023-01-30 01:50:32.735 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170806663876608[0;39m ------------- 开始 -------------
2023-01-30 01:50:32.736 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170806663876608[0;39m 请求地址: http://127.0.0.1:8080/category/all GET
2023-01-30 01:50:32.736 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170806663876608[0;39m 类名方法: com.example.wiki.controller.CategoryController.all
2023-01-30 01:50:32.736 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170806663876608[0;39m 远程地址: 127.0.0.1
2023-01-30 01:50:32.736 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170806663876608[0;39m 请求参数: []
2023-01-30 01:50:32.737 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170806663876608[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-01-30 01:50:32.738 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170806663876608[0;39m ==> Parameters: 
2023-01-30 01:50:32.739 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==    Columns: id, parent, name, sort
2023-01-30 01:50:32.739 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 100, 0, 前端开发, 100
2023-01-30 01:50:32.739 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 101, 100, Vue, 101
2023-01-30 01:50:32.740 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-01-30 01:50:32.740 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 200, 0, Java, 200
2023-01-30 01:50:32.740 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 201, 200, 基础应用, 201
2023-01-30 01:50:32.740 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 202, 200, 框架应用, 202
2023-01-30 01:50:32.741 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 300, 0, Python, 300
2023-01-30 01:50:32.741 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 301, 300, 基础应用, 301
2023-01-30 01:50:32.741 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-01-30 01:50:32.741 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 400, 0, 数据库, 400
2023-01-30 01:50:32.742 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 401, 400, MySQL, 401
2023-01-30 01:50:32.742 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 500, 0, 其它, 500
2023-01-30 01:50:32.742 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 501, 500, 服务器, 501
2023-01-30 01:50:32.742 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 502, 500, 开发工具, 502
2023-01-30 01:50:32.743 TRACE c.e.wiki.mapper.CategoryMapper.selectByExample    :143  [32m275170806663876608[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-01-30 01:50:32.743 DEBUG c.e.wiki.mapper.CategoryMapper.selectByExample    :137  [32m275170806663876608[0;39m <==      Total: 15
2023-01-30 01:50:32.743 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170806663876608[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-01-30 01:50:32.744 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170806663876608[0;39m ------------- 结束 耗时：9 ms -------------
2023-01-30 01:50:33.524 INFO  com.example.wiki.aspect.LogAspect                 :50   [32m275170809973182464[0;39m ------------- 开始 -------------
2023-01-30 01:50:33.526 INFO  com.example.wiki.aspect.LogAspect                 :51   [32m275170809973182464[0;39m 请求地址: http://127.0.0.1:8080/ebook/list GET
2023-01-30 01:50:33.526 INFO  com.example.wiki.aspect.LogAspect                 :52   [32m275170809973182464[0;39m 类名方法: com.example.wiki.controller.EbookController.list
2023-01-30 01:50:33.526 INFO  com.example.wiki.aspect.LogAspect                 :53   [32m275170809973182464[0;39m 远程地址: 127.0.0.1
2023-01-30 01:50:33.526 INFO  com.example.wiki.aspect.LogAspect                 :75   [32m275170809973182464[0;39m 请求参数: [{"page":1,"size":10}]
2023-01-30 01:50:33.527 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170809973182464[0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-01-30 01:50:33.527 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170809973182464[0;39m ==> Parameters: 
2023-01-30 01:50:33.528 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170809973182464[0;39m <==    Columns: count(0)
2023-01-30 01:50:33.530 TRACE c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m275170809973182464[0;39m <==        Row: 5
2023-01-30 01:50:33.530 DEBUG c.e.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m275170809973182464[0;39m <==      Total: 1
2023-01-30 01:50:33.531 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170809973182464[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-01-30 01:50:33.531 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170809973182464[0;39m ==> Parameters: 10(Integer)
2023-01-30 01:50:33.532 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170809973182464[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-01-30 01:50:33.532 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170809973182464[0;39m <==        Row: 1, Spring Boot 入门教程, null, null, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 0, 0
2023-01-30 01:50:33.533 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170809973182464[0;39m <==        Row: 2, Vue 入门教程, null, null, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:33.533 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170809973182464[0;39m <==        Row: 3, Python 入门教程, null, null, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:33.534 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170809973182464[0;39m <==        Row: 4, Mysql 入门教程, null, null, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:33.534 TRACE c.example.wiki.mapper.EbookMapper.selectByExample :143  [32m275170809973182464[0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, null, null, null
2023-01-30 01:50:33.534 DEBUG c.example.wiki.mapper.EbookMapper.selectByExample :137  [32m275170809973182464[0;39m <==      Total: 5
2023-01-30 01:50:33.535 INFO  com.example.wiki.service.EbookService             :51   [32m275170809973182464[0;39m 总行数 5
2023-01-30 01:50:33.535 INFO  com.example.wiki.service.EbookService             :52   [32m275170809973182464[0;39m 总页数 1
2023-01-30 01:50:33.536 INFO  com.example.wiki.aspect.LogAspect                 :87   [32m275170809973182464[0;39m 返回结果: {"content":{"list":[{"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","id":2,"name":"Vue 入门教程"},{"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","id":3,"name":"Python 入门教程"},{"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","id":4,"name":"Mysql 入门教程"},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","id":5,"name":"Oracle 入门教程"}],"total":5},"success":true}
2023-01-30 01:50:33.536 INFO  com.example.wiki.aspect.LogAspect                 :88   [32m275170809973182464[0;39m ------------- 结束 耗时：12 ms -------------
2023-01-30 01:50:35.006 INFO  com.example.wiki.job.DocJob                       :32   [32m275170816189140992[0;39m 更新电子书下的文档数据开始
2023-01-30 01:50:35.007 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170816189140992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-01-30 01:50:35.007 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170816189140992[0;39m ==> Parameters: 
2023-01-30 01:50:35.009 DEBUG c.e.wiki.mapper.DocMapperCust.updateEbookInfo     :137  [32m275170816189140992[0;39m <==    Updates: 1
2023-01-30 01:50:35.009 INFO  com.example.wiki.job.DocJob                       :35   [32m275170816189140992[0;39m 更新电子书下的文档数据结束，耗时：3毫秒
